<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - Tart</title>
    <link rel="stylesheet" href="css/style.css?v=1.1">
</head>
<body>
    <header>
        <a href="/" class="header-text-link header-back-link" aria-label="Back to home">&lt;</a>
        <nav aria-label="Account">
            <a href="#" id="logout-btn" class="header-text-link">Log out</a>
        </nav>
    </header>

    <main>
        <div class="profile-container">
            <section class="profile-header">
                <div class="profile-avatar-container">
                    <img src="/assets/default-avatar.svg" alt="Artist Avatar" class="profile-avatar" id="profile-avatar">
                    <div class="avatar-upload-overlay">
                        <span>Click to change</span>
                    </div>
                    <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                </div>
                <div class="profile-info">
                    <div class="name-row">
                        <h2 id="artist-name">Artist Name</h2>
                        <button id="notif-bell" class="icon-btn" type="button" aria-label="Notifications" aria-haspopup="true" aria-expanded="false" title="Notifications">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <path d="M18 8a6 6 0 10-12 0c0 7-3 7-3 7h18s-3 0-3-7"/>
                                <path d="M13.73 21a2 2 0 01-3.46 0"/>
                            </svg>
                        </button>
                        <div id="notif-panel" class="notif-panel" hidden>
                            <div class="notif-header">Notifications</div>
                            <div id="notif-empty" class="notif-empty">No notifications yet</div>
                            <ul id="notif-list" class="notif-list" role="list"></ul>
                        </div>
                    </div>
                    <p id="artist-region">City, Country</p>
                    <p id="artist-connections">0 Connections</p>
                </div>
                <div class="profile-actions">
                    <button id="edit-profile-btn" class="btn" type="button">Edit Profile</button>
                     <a href="/upload.html" class="btn">Upload Artwork</a>
                     <a href="/survey.html" class="btn">Portfolio Website</a>
                </div>
                <div id="account-published-url" style="display:none; margin-top:8px; font-size:0.95rem;">
                    <a id="account-published-url-link" href="#" target="_blank" rel="noopener">view</a>
                </div>
            </section>

            <div class="section-divider"></div>

            <section class="profile-content">
                <div class="tabs">
                    <button class="tab-link active" onclick="openTab(event, 'gallery')">Gallery</button>
                    <button class="tab-link" onclick="openTab(event, 'collection')">Collection</button>
                </div>

                <div id="gallery" class="tab-content active">
                    <h3>My Artworks</h3>
                    <div id="artist-artworks-container" class="gallery"></div>
                </div>

                <div id="collection" class="tab-content">
                    <div id="artist-collection-container" class="artworks-grid">
                        <!-- Collected artworks will be loaded here -->
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Inline Notification Container -->
    <div id="notice-container" aria-live="polite" aria-atomic="true" style="position:fixed; top:12px; left:50%; transform:translateX(-50%); z-index:1100; display:flex; flex-direction:column; gap:8px; align-items:center; pointer-events:none;"></div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center;">
        <div style="background:#fff; padding:20px; border-radius:8px; width:90%; max-width:420px; box-shadow:0 10px 30px rgba(0,0,0,0.2);">
            <h3 style="margin-top:0;">Edit Profile</h3>
            <div style="display:flex; flex-direction:column; gap:10px;">
                <label>
                    <span>Name</span>
                    <input id="edit-name" type="text" style="width:100%; max-width:100%; padding:8px; border:1px solid #ddd; border-radius:4px; box-sizing:border-box; display:block;" />
                </label>
                <label>
                    <span>City</span>
                    <input id="edit-city" type="text" style="width:100%; max-width:100%; padding:8px; border:1px solid #ddd; border-radius:4px; box-sizing:border-box; display:block;" />
                </label>
                <label>
                    <span>Country</span>
                    <input id="edit-country" type="text" style="width:100%; max-width:100%; padding:8px; border:1px solid #ddd; border-radius:4px; box-sizing:border-box; display:block;" />
                </label>
            </div>
            <div style="margin-top:16px; display:flex; gap:8px; justify-content:flex-end;">
                <button id="cancel-profile-btn" class="btn" type="button">Cancel</button>
                <button id="save-profile-btn" class="btn" type="button">Save</button>
            </div>
        </div>
    </div>

    <script src="js/account.js"></script>
</body>
</html>
